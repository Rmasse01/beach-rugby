<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inscription – Occitan Beach Rugby</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #fef8e7; margin:0; padding:0 }
    header { position: relative; text-align: center }
    header img { width:100%; display:block }
    header h1 {
      position:absolute; top:50%; left:50%;
      transform:translate(-50%,-50%);
      color:white; font-size:2.5em; margin:0;
      text-shadow:2px 2px 5px #000;
    }
    .container { max-width:1000px; margin:auto; padding:20px }
    h2 { text-align:center }
    label { display: block; margin: 12px 0 4px; font-weight: 500; }
    input, select, textarea {
      width:100%; padding:8px; margin:4px 0 12px; box-sizing:border-box;
    }
    .carousel { display:flex; overflow-x:auto; margin:20px 0 }
    .carousel img {
      height:150px; margin-right:10px; cursor:pointer;
      border:3px solid transparent; flex-shrink:0;
    }
    .carousel img.selected { border-color:#ff6600 }
    table {
      width:100%; border-collapse:collapse; margin-bottom:24px;
    }
    th, td { border:1px solid #ccc; padding:8px }
    th { background:#ffe4b5 }
    .sponsor-upload { margin-bottom:20px }
    .payment-link {
      display:block; width:100%; background:#ff6600; color:#fff;
      text-align:center; padding:12px; font-size:1.2em;
      text-decoration:none; border-radius:8px;
    }
    @media (max-width:768px) {
      header h1 { font-size:1.8em }
      .carousel img { height:100px }
      table, thead, tbody, th, td, tr { display:block }
      thead tr { display:none }
      tr {
        margin-bottom:15px; border:1px solid #ccc;
        padding:10px; border-radius:8px;
      }
      td {
        padding-left:50%; position:relative; text-align:left;
      }
      td::before {
        position:absolute; left:10px; width:45%;
        white-space:nowrap; font-weight:bold;
      }
      td:nth-of-type(1)::before { content:"Nom / Surnom"; }
      td:nth-of-type(2)::before { content:"Taille"; }
      td:nth-of-type(3)::before { content:"Numéro"; }
      td:nth-of-type(4)::before { content:"Anecdote joueur"; }
    }
  </style>
  <script>
    function selectJersey(el) {
      document.querySelectorAll('.carousel img')
          .forEach(i => i.classList.remove('selected'));
      el.classList.add('selected');
      document.getElementById('jerseyInput').value = el.alt;
      checkFormValidity(); // Si tu avais la validation du formulaire
    }

    function checkFormValidity() {
      const selectedJersey = document.querySelector('.carousel img.selected');
      const teamNameInput = document.getElementById('teamName');
      const submitBtn = document.getElementById('submitBtn');

      if (selectedJersey && teamNameInput.value.trim() !== '') {
        submitBtn.disabled = false;
      } else {
        submitBtn.disabled = true;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const firstJersey = document.querySelector('.carousel img:first-child');
      if (firstJersey) {
        firstJersey.classList.add('selected');
        document.getElementById('jerseyInput').value = firstJersey.alt;
        checkFormValidity(); // Vérifie l'état initial du bouton
      }

      const teamNameInput = document.getElementById('teamName');
      if (teamNameInput) {
        teamNameInput.addEventListener('input', checkFormValidity);
      }
    });
  </script>
</head>
<body>
  <header>
    <img src="header.jpg" alt="Bannière Occitan Beach Rugby">
    <h1>OCCITAN BEACH RUGBY</h1>
  </header>
  <div class="container">
    <h2>Inscription d’équipe</h2>
    <form id="registrationForm" method="POST" netlify>
      <label for="teamName">Nom de l’équipe :</label>
      <input type="text" id="teamName" name="teamName" required>

      <h3>Choisissez votre maillot :</h3>
      <div class="carousel">
        <img src="maillots/maillot01.png" alt="Maillot 01" onclick="selectJersey(this)">
        <img src="maillots/maillot02.png" alt="Maillot 02" onclick="selectJersey(this)">
        <img src="maillots/maillot03.png" alt="Maillot 03" onclick="selectJersey(this)">
        <img src="maillots/maillot04.png" alt="Maillot 04" onclick="selectJersey(this)">
        <img src="maillots/maillot05.png" alt="Maillot 05" onclick="selectJersey(this)">
        <img src="maillots/maillot06.png" alt="Maillot 06" onclick="selectJersey(this)">
        <img src="maillots/maillot07.png" alt="Maillot 07" onclick="selectJersey(this)">
        <img src="maillots/maillot08.png" alt="Maillot 08" onclick="selectJersey(this)">
      </div>
      <input type="hidden" name="jersey" id="jerseyInput" value="">

      <h3>Informations des joueurs</h3>
      <table>
        <thead>
          <tr>
            <th>Nom / Surnom</th>
            <th>Taille</th>
            <th>Numéro (00–99)</th>
            <th>Anecdote joueur</th>
          </tr>
        </thead>
        <tbody id="playersList">
          <tr>
            <td><input type="text" name="name[]" required></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99" required></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
          <tr>
            <td><input type="text" name="name[]"></td>
            <td>
              <select name="size[]">
                <option>XS</option><option>S</option><option selected>M</option>
                <option>L</option><option>XL</option><option>XXL</option>
              </select>
            </td>
            <td><input type="number" name="number[]" min="0" max="99"></td>
            <td><textarea name="anecdote[]" rows="2"></textarea></td>
          </tr>
        </tbody>
      </table>

      <div class="sponsor-upload">
        <label for="sponsorLogo">Logo du sponsor :</label>
        <input type="file" id="sponsorLogo" name="sponsorLogo" accept="image/*">
      </div>

      <input type="hidden" name="jersey" id="jerseyInput" value="">

      <button type="submit" id="submitBtn" class="payment-link" disabled>
        Valider inscription
      </button>
    </form>
  </div>
</body>
</html>