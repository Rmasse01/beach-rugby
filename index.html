<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inscription – Occitan Beach Rugby</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>OCCITAN BEACH RUGBY</h1>
  </header>

  <div class="container">
    <h2>Inscription d’équipe</h2>
    <form id="registrationForm" method="POST" action="/.netlify/functions/generate-csv" netlify>
      <h3 class="choose-left">Choisissez votre maillot</h3>
      <div class="carousel-wrapper">
        <button class="carousel-btn prev" onclick="prevSlide()">&#10094;</button>
        <div class="carousel-track-container">
          <div class="carousel-track" id="jerseyCarouselTrack">
            <div class="slide"><img src="maillots/maillot01.png" alt="Maillot 01" onclick="selectJersey(this, 'Maillot 01')"></div>
            <div class="slide"><img src="maillots/maillot02.png" alt="Maillot 02" onclick="selectJersey(this, 'Maillot 02')"></div>
            <div class="slide"><img src="maillots/maillot03.png" alt="Maillot 03" onclick="selectJersey(this, 'Maillot 03')"></div>
            <div class="slide"><img src="maillots/maillot04.png" alt="Maillot 04" onclick="selectJersey(this, 'Maillot 04')"></div>
            <div class="slide"><img src="maillots/maillot05.png" alt="Maillot 05" onclick="selectJersey(this, 'Maillot 05')"></div>
            <div class="slide"><img src="maillots/maillot06.png" alt="Maillot 06" onclick="selectJersey(this, 'Maillot 06')"></div>
            <div class="slide"><img src="maillots/maillot07.png" alt="Maillot 07" onclick="selectJersey(this, 'Maillot 07')"></div>
            <div class="slide"><img src="maillots/maillot08.png" alt="Maillot 08" onclick="selectJersey(this, 'Maillot 08')"></div>
          </div>
        </div>
        <button class="carousel-btn next" onclick="nextSlide()">&#10095;</button>
      </div>
      <input type="hidden" name="jersey" id="jerseyInput" value="">

      <h3>Informations des joueurs</h3>
      <div id="playersContainer">
        <div class="player">
          <table>
            <thead>
              <tr>
                <th>Nom / Surnom</th><th>Taille</th><th>Numéro (00–99)</th><th>Anecdote joueur</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input type="text" name="playerName" required></td>
                <td>
                  <select name="playerSize">
                    <option>XS</option><option>S</option><option selected>M</option><option>L</option><option>XL</option><option>XXL</option>
                  </select>
                </td>
                <td><input type="number" name="playerNumber" min="0" max="99" required></td>
                <td><textarea name="playerAnecdote" rows="2"></textarea></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <button type="button" id="addPlayer">Ajouter un joueur</button>

      <div class="sponsor-upload">
        <label for="sponsorLogo">Logo du sponsor :</label>
        <input type="file" id="sponsorLogo" name="sponsorLogo" accept="image/*">
      </div>

      <div class="email-input">
        <label for="email">Adresse e-mail du capitaine :</label>
        <input type="email" id="email" name="email" placeholder="exemple@domaine.com" required>
      </div>

      <input type="hidden" id="playersData" name="playersData">

      <a href="https://www.helloasso.com/" target="_blank" class="payment-link">
        Payer via HelloAsso
      </a>

      <button type="submit" id="submitBtn" disabled>
        Valider inscription
      </button>
    </form>
  </div>

<div id="dataDisplay">
  <h2>Données des inscriptions</h2>
  <table id="dataTable">
    <thead>
      <tr>
        <th>Nom de l'équipe</th>
        <th>Maillot</th>
        <th>Nom</th>
        <th>Taille</th>
        <th>Numéro</th>
        <th>Anecdote</th>
        <th>Logo Sponsor</th>
        <th>Email Capitaine</th>
        <th>IP</th>
        <th>User Agent</th>
        <th>Referrer</th>
        <th>Date de Création</th>
      </tr>
    </thead>
    <tbody>
      </tbody>
  </table>
</div>

  <script src="script.js"></script>
</body>
</html>